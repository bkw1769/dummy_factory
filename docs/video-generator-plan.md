# ë¹„ë””ì˜¤ íŒŒì¼ ìƒì„±ê¸° êµ¬í˜„ ê³„íšì„œ

## ê°œìš”

í˜„ì¬ ë¹„ë””ì˜¤ ì¹´í…Œê³ ë¦¬(`.mp4`, `.mov`, `.avi`, `.webm`, `.mkv`, `.wmv`, `.flv`, `.gifv`)ëŠ” í˜•ì‹ë³„ ìƒì„±ê¸°ê°€ ì—†ì–´ ë‹¨ìˆœ ë°”ì´ë„ˆë¦¬ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ìœ íš¨í•œ ë¹„ë””ì˜¤ íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•œ êµ¬í˜„ ê³„íšì„ ì •ì˜í•©ë‹ˆë‹¤.

## í˜„ì¬ ìƒíƒœ

- **ìœ„ì¹˜**: `src/utils/dummyFactory/fileGenerators/video/` (ë¯¸ì¡´ì¬)
- **í´ë°±**: `fileGenerator.js`ì˜ `generateBinaryBlob()` ì‚¬ìš©
- **ë¬¸ì œ**: ìƒì„±ëœ íŒŒì¼ì´ ë¯¸ë””ì–´ í”Œë ˆì´ì–´ì—ì„œ ì¬ìƒë˜ì§€ ì•ŠìŒ

## êµ¬í˜„ ëŒ€ìƒ í˜•ì‹

| í™•ì¥ì | ì»¨í…Œì´ë„ˆ | ìš°ì„ ìˆœìœ„ | êµ¬í˜„ ë‚œì´ë„ | ë¹„ê³  |
|--------|----------|----------|-------------|------|
| `.mp4` | MPEG-4 Part 14 | ğŸ”´ ë†’ìŒ | ì¤‘ | ê°€ì¥ ë²”ìš©ì  |
| `.webm` | WebM (Matroska) | ğŸ”´ ë†’ìŒ | ì¤‘ | ì›¹ í‘œì¤€ |
| `.mov` | QuickTime | ğŸŸ¡ ì¤‘ê°„ | ì¤‘ | MP4ì™€ ìœ ì‚¬ |
| `.avi` | AVI (RIFF) | ğŸŸ¡ ì¤‘ê°„ | í•˜ | ë ˆê±°ì‹œ, ë‹¨ìˆœ êµ¬ì¡° |
| `.mkv` | Matroska | ğŸŸ¢ ë‚®ìŒ | ìƒ | ë³µì¡í•œ êµ¬ì¡° |
| `.wmv` | ASF | ğŸŸ¢ ë‚®ìŒ | ìƒ | MS ë…ì  í˜•ì‹ |
| `.flv` | Flash Video | ğŸŸ¢ ë‚®ìŒ | ì¤‘ | ë ˆê±°ì‹œ |
| `.gifv` | MP4 | ğŸŸ¢ ë‚®ìŒ | - | MP4ì™€ ë™ì¼ |

## íŒŒì¼ êµ¬ì¡° ë¶„ì„

### 1. MP4 (ISO Base Media File Format)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ftyp (File Type Box)                â”‚  â† íŒŒì¼ íƒ€ì… ì‹ë³„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ moov (Movie Box)                    â”‚  â† ë©”íƒ€ë°ì´í„° ì»¨í…Œì´ë„ˆ
â”‚   â”œâ”€ mvhd (Movie Header)            â”‚
â”‚   â”œâ”€ trak (Track)                   â”‚  â† ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ íŠ¸ë™
â”‚   â”‚   â”œâ”€ tkhd (Track Header)        â”‚
â”‚   â”‚   â””â”€ mdia (Media)               â”‚
â”‚   â”‚       â”œâ”€ mdhd (Media Header)    â”‚
â”‚   â”‚       â”œâ”€ hdlr (Handler)         â”‚
â”‚   â”‚       â””â”€ minf (Media Info)      â”‚
â”‚   â”‚           â””â”€ stbl (Sample Table)â”‚
â”‚   â””â”€ ...                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ mdat (Media Data Box)               â”‚  â† ì‹¤ì œ ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ ë°ì´í„°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ì „ëµ**:
- ìµœì†Œ ìœ íš¨ MP4 í—¤ë”(ftyp + moov) ìƒì„±
- mdatì— ë¹ˆ í”„ë ˆì„ ë˜ëŠ” ë‹¨ìƒ‰ í”„ë ˆì„ ë°ì´í„° ì±„ìš°ê¸°
- í¬ê¸° ì¡°ì ˆì„ ìœ„í•´ mdat íŒ¨ë”©

### 2. WebM (Matroska ê¸°ë°˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EBML Header                         â”‚  â† íŒŒì¼ ì‹ë³„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Segment                             â”‚
â”‚   â”œâ”€ SeekHead                       â”‚  â† ì¸ë±ìŠ¤
â”‚   â”œâ”€ Info                           â”‚  â† ì„¸ê·¸ë¨¼íŠ¸ ì •ë³´
â”‚   â”œâ”€ Tracks                         â”‚  â† íŠ¸ë™ ì •ì˜
â”‚   â”œâ”€ Cluster                        â”‚  â† ì‹¤ì œ ë°ì´í„°
â”‚   â”‚   â”œâ”€ Timecode                   â”‚
â”‚   â”‚   â””â”€ SimpleBlock                â”‚
â”‚   â””â”€ ...                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ì „ëµ**:
- EBML í—¤ë” + ìµœì†Œ ì„¸ê·¸ë¨¼íŠ¸ êµ¬ì¡° ìƒì„±
- VP8/VP9 ì½”ë± ì—†ì´ ë¹ˆ í”„ë ˆì„ êµ¬ì¡°ë§Œ ìƒì„±
- Clusterì— íŒ¨ë”© ë°ì´í„° ì¶”ê°€

### 3. AVI (RIFF ê¸°ë°˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RIFF Header ("AVI ")                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LIST "hdrl" (Header List)           â”‚
â”‚   â”œâ”€ avih (Main AVI Header)         â”‚
â”‚   â””â”€ LIST "strl" (Stream List)      â”‚
â”‚       â”œâ”€ strh (Stream Header)       â”‚
â”‚       â””â”€ strf (Stream Format)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LIST "movi" (Movie Data)            â”‚  â† ì‹¤ì œ ë°ì´í„°
â”‚   â””â”€ 00dc (Video Chunks)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ì „ëµ**:
- WAV ìƒì„±ê¸°ì™€ ìœ ì‚¬í•œ RIFF êµ¬ì¡° í™œìš©
- ë‹¨ìˆœí•œ ë¹„ì••ì¶• RGB í”„ë ˆì„ ìƒì„± ê°€ëŠ¥
- movi ì²­í¬ì— íŒ¨ë”©ìœ¼ë¡œ í¬ê¸° ì¡°ì ˆ

### 4. MOV (QuickTime)

MP4ì™€ ë™ì¼í•œ ISO Base Media File Format ê¸°ë°˜. ftypë¥¼ `qt  `ë¡œ ì„¤ì •í•˜ë©´ MOVë¡œ ì¸ì‹.

## êµ¬í˜„ ê³„íš

### Phase 1: ê¸°ë³¸ êµ¬ì¡° (ìš°ì„  êµ¬í˜„)

**1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±**
```
src/utils/dummyFactory/fileGenerators/video/
â”œâ”€â”€ index.js      # export ëª¨ìŒ
â”œâ”€â”€ mp4.js        # MP4 ìƒì„±ê¸°
â”œâ”€â”€ webm.js       # WebM ìƒì„±ê¸°
â”œâ”€â”€ avi.js        # AVI ìƒì„±ê¸°
â””â”€â”€ mov.js        # MOV ìƒì„±ê¸° (MP4 ê¸°ë°˜)
```

**2. MP4 ìƒì„±ê¸° êµ¬í˜„** (`mp4.js`)
```javascript
// ìµœì†Œ ìœ íš¨ MP4 êµ¬ì¡°
// ftyp: isom, iso2, mp41
// moov: mvhd + trak (ë¹„ë””ì˜¤ íŠ¸ë™)
// mdat: ë¹ˆ í”„ë ˆì„ ë°ì´í„° + íŒ¨ë”©
```

**3. AVI ìƒì„±ê¸° êµ¬í˜„** (`avi.js`)
```javascript
// RIFF êµ¬ì¡° (WAVì™€ ìœ ì‚¬)
// ë¹„ì••ì¶• RGB24 ë‹¨ì¼ í”„ë ˆì„
// movi ì²­í¬ì— íŒ¨ë”©
```

### Phase 2: í™•ì¥ í˜•ì‹

**4. WebM ìƒì„±ê¸° êµ¬í˜„** (`webm.js`)
- EBML í—¤ë” ìƒì„±
- ìµœì†Œ Matroska êµ¬ì¡°

**5. MOV ìƒì„±ê¸° êµ¬í˜„** (`mov.js`)
- MP4 ìƒì„±ê¸° ì¬ì‚¬ìš©
- ftypë§Œ QuickTimeìœ¼ë¡œ ë³€ê²½

### Phase 3: ë ˆê±°ì‹œ í˜•ì‹

**6. FLV, WMV, MKV**
- í•„ìš”ì‹œ ì¶”ê°€ êµ¬í˜„
- ë˜ëŠ” ë°”ì´ë„ˆë¦¬ í´ë°± ìœ ì§€

## ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### í¬ê¸° ì¡°ì ˆ ì „ëµ

| ë°©ë²• | ì¥ì  | ë‹¨ì  |
|------|------|------|
| mdat íŒ¨ë”© | ê°„ë‹¨, ì •í™•í•œ í¬ê¸° | ì¬ìƒ ì‹œ ëë¶€ë¶„ ì˜¤ë¥˜ ê°€ëŠ¥ |
| í”„ë ˆì„ ìˆ˜ ì¡°ì ˆ | ìœ íš¨í•œ íŒŒì¼ ìœ ì§€ | ë³µì¡, ì •í™•í•œ í¬ê¸° ì–´ë ¤ì›€ |
| í•´ìƒë„ ì¡°ì ˆ | ìì—°ìŠ¤ëŸ¬ì›€ | ê³„ì‚° ë³µì¡ |

**ê¶Œì¥**: mdat/movi íŒ¨ë”© ë°©ì‹ (ê¸°ì¡´ ì´ë¯¸ì§€ ìƒì„±ê¸°ì™€ ë™ì¼í•œ íŒ¨í„´)

### ì½”ë± ì—†ì´ êµ¬í˜„

- ì‹¤ì œ ì¸ì½”ë”©(H.264, VP9 ë“±)ì€ ë¸Œë¼ìš°ì €ì—ì„œ ë¶ˆê°€
- **í•´ê²°ì±…**: ë¹„ì••ì¶• í”„ë ˆì„ ë˜ëŠ” ìµœì†Œ ìœ íš¨ êµ¬ì¡°ë§Œ ìƒì„±
- ëª©ì : íŒŒì¼ êµ¬ì¡° í…ŒìŠ¤íŠ¸, ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸ìš© (ì¬ìƒì€ ë³´ì¥í•˜ì§€ ì•ŠìŒ)

### ë¸Œë¼ìš°ì € í˜¸í™˜ì„±

- `Uint8Array`, `ArrayBuffer` ì‚¬ìš© (ëª¨ë“  ëª¨ë˜ ë¸Œë¼ìš°ì € ì§€ì›)
- WebCodecs APIëŠ” ì•„ì§ ì œí•œì  (Chromeë§Œ ì§€ì›)

## íŒŒì¼ ìˆ˜ì • ëª©ë¡

### ì‹ ê·œ ìƒì„±
- [ ] `src/utils/dummyFactory/fileGenerators/video/index.js`
- [ ] `src/utils/dummyFactory/fileGenerators/video/mp4.js`
- [ ] `src/utils/dummyFactory/fileGenerators/video/avi.js`
- [ ] `src/utils/dummyFactory/fileGenerators/video/webm.js`
- [ ] `src/utils/dummyFactory/fileGenerators/video/mov.js`

### ìˆ˜ì •
- [ ] `src/utils/dummyFactory/fileGenerators/index.js` - video export ì¶”ê°€
- [ ] `src/utils/dummyFactory/fileGenerator.js` - generatorMapì— ë¹„ë””ì˜¤ í˜•ì‹ ì¶”ê°€

## í…ŒìŠ¤íŠ¸ ê³„íš

1. **êµ¬ì¡° ìœ íš¨ì„±**: ìƒì„±ëœ íŒŒì¼ì„ `ffprobe` ë˜ëŠ” MediaInfoë¡œ ê²€ì¦
2. **í¬ê¸° ì •í™•ë„**: ìš”ì²­ í¬ê¸°ì™€ ì‹¤ì œ í¬ê¸° ë¹„êµ (Â±1KB í—ˆìš©)
3. **ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸**: Chrome, Firefox, Safariì—ì„œ ë‹¤ìš´ë¡œë“œ í…ŒìŠ¤íŠ¸

## ì°¸ê³  ìë£Œ

- [MP4 Box Structure](https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap1/qtff1.html)
- [WebM Container Guidelines](https://www.webmproject.org/docs/container/)
- [AVI RIFF File Reference](https://docs.microsoft.com/en-us/windows/win32/directshow/avi-riff-file-reference)
- [Matroska Specification](https://www.matroska.org/technical/elements.html)
